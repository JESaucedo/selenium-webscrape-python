#necessary to use selenium
from selenium import webdriver
from selenium.webdriver.common.by import By
import time
SCROLL_PAUSE_TIME = 1


#the links needed to webscrape
url = 'https://www.youtube.com/playlist?list=PL4AA27D7B17941523'
url2 = 'https://www.mariowiki.com/1-Up_Mushroom'
url3 = 'https://www.youtube.com/@chugga/videos'



#this is where it opens firefox and uses the url
driver = webdriver.Firefox()
#driver.get(url)
#driver.get(url2)
driver.get(url3)



#uses wait to make sure the page loads
driver.implicitly_wait(30)

last_height = driver.execute_script("return document.documentElement.scrollHeight")

while True:
	driver.execute_script("window.scrollTo(0, arguments[0]);", last_height)
	
	time.sleep(SCROLL_PAUSE_TIME)

	new_height = driver.execute_script("return document.documentElement.scrollHeight")
	if new_height == last_height:
		break
	last_height = new_height


#this is what gets all the titles correctly
#videos = driver.find_elements(By.XPATH, "//div[@id='contents' and @class='style-scope ytd-playlist-video-list-renderer']//a[@id='video-title']")

#videos = driver.find_elements(By.XPATH, "//div[@id='details' and @class='style-scope ytd-rich-grid-media']//a[@id='video-title']")

#videos = driver.find_elements(By.XPATH, "//*[@id='contents']//a[id='video-title']")

#TO-DO See if you are able to put the title and link in the same list 
#TO-DO Try to use a dictionary

#videos = driver.find_elements(By.ID, "video-title")
#links = driver.find_elements(By.ID, "video-title").get_attribute('href')



#videos = [driver.find_elements(By.ID, "video-title"), driver.find_elements(By.ID, "video-title").get_attribute('href')]
videos = driver.find_elements(By.TAG_NAME, "a")
#links = videos.get_attribute('href')
#it looks in the div with id = contents and the class name, which then finds title
#name based on the requirements

#prints out the list of videos (or it's supposed to)
findString = "Luigi's Mansion"
for video in videos:
	#print(video.text)
	title = video.get_attribute("title")
	href = video.get_attribute("href")
	#print(title)
	#print(href)
	#for link in links:
	#	videoLink = link.text
	if findString in video.text:
		print(title)
		print(href)

